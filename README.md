# SR

从RDT3.0 -> SR，主要涉及从简单的 Stop-and-Wait 到滑动窗口协议的转变。

* **RDT3.0** 采用 Stop-and-Wait策略，发送方每次只发送一个分组，然后等待确认(ACK)；如果超时未收到ACK，则重传该分组。这种方法虽然简单但信道利用率低。
* **SR** 是滑动窗口协议的一种，允许发送方同时发送窗口内的多个分组，接收方可以缓存失序的分组，并且只重传丢失或出错的分组(而非整个窗口)。这样SR提高了信道利用率。



SR采用滑动窗口。发送方维护一个发送窗口，窗口内的分组可以同时发送；接收方为每个分组单独发送ACK，发送方只重传那些未收到ACK的分组（通过序号识别）。这减少了不必要的重传，提高了效率。



**SR 发送方**：状态机扩展为滑动窗口。发送方可以连续发送窗口内的分组，每个分组有独立的状态；收到ACK时，仅移动窗口并重传丢失分组（通过序号确认）。



**SR 接收方**：状态机支持缓存。接收方可以接收乱序分组，并发送对应序号的ACK；当连续分组到达时，一次性递交数据，并移动窗口左沿。
